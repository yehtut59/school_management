<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="students_form_view" model="ir.ui.view">
    <field name="name">students.form.view</field>
    <field name="model">school.students</field>
    <field name="arch" type="xml">
      <form>
        <header>
          <field name="sale_order_id" invisible="1"/>
          <button name="create_sale_order" type="object" class="oe_highlight" string="Generate Sale Order" invisible="sale_order_id != False"/>

          <button name="editable_student" type="object" string="Edit Student" class="btn-primary" 
            invisible="(state != 'done' and state != 'confirm')"/>
          <button name="confirm_edit" type="object" string="Confirm Edit" class="btn-success" 
            invisible="state != 'edit'"/>

          <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done"/>
        </header>
        <sheet>

        
          <div class="oe_button_box" name="button_box">
            <button name="action_view_related_order" type="object" class="oe_stat_button" icon="oi-search">
              Student Order
            </button>
          </div>
          <group>
            <group>
              
              <field name="name" readonly="state in ('done','confirm','end')"/>
              <field name="stu_id" readonly="1"/>
              <field name="age" readonly="1" force_save="1"/> 
              <field name="dob" readonly="state in ('done','confirm','end')"/>
              <field name="father_name" readonly="state in ('done','confirm','end')"/>
              <field name="mother_name" readonly="state in ('done','confirm','end')"/>
            </group>
            <group>
              <field name="nrc" readonly="state in ('done','confirm','end')"/>
              <field name="email" readonly="state in ('done','confirm','end')"/>
              <field name="phone" readonly="state in ('done','confirm','end')"/>
              <field name="major_id" readonly="state in ('done','confirm','end')"/>
              <field name="class_id" readonly="state in ('done','confirm','end')" domain="[('major_id','=',major_id)]" required="state != 'end'"/>
            </group>
          </group>
          <field name="address" placeholder="Student Address ....." readonly="state in ('done','confirm','end')"/>
          <notebook>
            <page name="exam_info" string="Exam Information">
                <field name="student_exam_ids"  mode="list" readonly="1">
                    <list>
                        <field name="exam_id"/>
                        <field name="student_id"/>
                        <field name="name"/>
                        <field name="stu_id"/>
                        <field name="total_marks"/>
                        <field name="rating"/>
                        <field name="status" string="Exam Status"/>
                    </list>
                </field>
            </page>
          </notebook>
        </sheet>
        <chatter reload_on_attachment="True"/>
      </form>
    </field>
  </record>

  <record id="students_tree_view" model="ir.ui.view">
    <field name="name">students.tree.view</field>
    <field name="model">school.students</field>
    <field name="arch" type="xml">
      <list>
        <field name="stu_id"/>
        <field name="name"/>
        <field name="age"/>
        <field name="nrc"/>
        <field name="email"/>
        <field name="phone"/>
        <field name="major_id"/>
        <field name="class_id"/>
        <field name="state"/>
      </list>
    </field>
  </record>

  <record id="students_action" model="ir.actions.act_window">
    <field name="name">Students</field>
    <field name="res_model">school.students</field>
    <field name="view_mode">list,form</field>
  </record>

  
  

</odoo>